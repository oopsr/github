---
title: iOS利用voip push实现类似微信(QQ)电话连续响铃效果
date: 2016-06-20 17:04:10
tags:
	 - iOS
	 - pushkit
	 - voip Push
	 - 激活应用
---
	由于项目中添加了视频语音呼叫功能，某一天老总说要做保活，并拿出手机演示微信的音视频呼叫功能，微信在APP被杀死和黑屏的情况下都能收到呼叫并且能连续响铃和振动。当时脑子第一个想法是APNS去实现，但是APNS根本实现不了连续通知，就算连续推送也不可能只显示一个通知栏，然后又想到本地通知是可以实现连续响铃效果，但是当APP被杀死或者至于后台根本没办法启动本地通知，所以这个问题的切入点就是APP死了，怎么去激活？后面通过翻墙搜索发现voip可以实现激活应用，当时国内几乎搜索不到关于voip push的介绍，只好对着开发手册搞了。好了，直入正题了。
	
### 关于voip
  voip 推送基于pushKit框架。以前应用保活是通过与服务器发送周期性的心跳来维持，这样会导致设备被频繁唤醒，消耗电量，类似现在android系统的保活。为了代替永久连接机制，苹果开发人员
